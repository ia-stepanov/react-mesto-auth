{"version":3,"sources":["contexts/CurrentUserContext.js","utils/api.js","utils/auth.js","images/logo.svg","components/Header.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/AddPlacePopup.js","components/EditAvatarPopup.js","components/ImagePopup.js","components/Login.js","components/Register.js","components/ProtectedRoute.js","components/InfoTooltip.js","images/resolve.svg","images/reject.svg","components/App.js","reportWebVitals.js","index.js"],"names":["CurrentUserContext","React","createContext","api","headers","baseUrl","this","_headers","_baseUrl","res","ok","json","Promise","reject","status","statusText","requestUrl","fetch","then","_checkResponse","data","method","body","JSON","stringify","name","profile_name","about","profile_job","link","_id","cardId","avatar","avatar_link","authorization","checkResponse","BASE_URL","Header","props","className","src","logo","alt","mail","to","route","type","onClick","title","Card","currentUser","useContext","isOwn","card","owner","isLiked","likes","some","i","cardDeleteButtonClassName","cardLikeButtonClassName","onCardClick","onCardDelete","onCardLike","Main","onEditAvatar","onEditProfile","onAddPlace","cards","map","id","length","Footer","PopupWithForm","isOpen","onMouseDown","onCloseClick","form","onSubmit","children","buttonText","onClose","EditProfilePopup","useState","setName","description","setDescription","useEffect","evt","preventDefault","placeholder","minLength","maxLength","value","onChange","target","required","AddPlacePopup","setLink","EditAvatarPopup","ref","useRef","current","ImagePopup","Login","email","setEmail","password","setPassword","onLogin","autoComplete","Register","onRegister","ProtectedRoute","Component","component","isLogged","InfoTooltip","image","App","navigate","useNavigate","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isImagePopupOpen","setIsImagePopupOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","isLoggedIn","setIsLoggedIn","emailName","setEmailName","popupImage","setPopupImage","popupTitle","setPopupTitle","infoTooltip","setInfoTooltip","handleInfoTooltip","handlePopupCloseClick","classList","contains","closeAllPopups","jwt","localStorage","getItem","Authorization","auth","catch","err","console","error","all","getUserInfo","getInitialCards","user","handleEsc","key","document","addEventListener","removeEventListener","Provider","path","element","setItem","token","resolve","finally","exact","removeItem","deleteCardLike","newCard","state","c","addCardLike","removeCard","items","filter","updateUserInfo","newUser","addNewCard","updateProfileAvatar","newAvatar","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","basename","getElementById"],"mappings":"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","file":"static/js/main.359c7af5.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nexport const CurrentUserContext = React.createContext();","class Api {\n  constructor({ headers, baseUrl }) {\n    this._headers = headers;\n    this._baseUrl = baseUrl;\n  }\n\n  _checkResponse(res) {\n    if (res.ok) {\n      return res.json();\n    } else {\n      return Promise.reject(`${res.status} ${res.statusText}`);\n    }\n  }\n\n  getUserInfo() {\n    const requestUrl = this._baseUrl + '/users/me';\n    return fetch(requestUrl, {\n      headers: this._headers,\n    }).then(this._checkResponse);\n  }\n\n  getInitialCards() {\n    const requestUrl = this._baseUrl + '/cards';\n    return fetch(requestUrl, {\n      headers: this._headers,\n    }).then(this._checkResponse);\n  }\n\n  updateUserInfo(data) {\n    const requestUrl = this._baseUrl + '/users/me';\n    return fetch(requestUrl, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: data.profile_name,\n        about: data.profile_job\n      })\n    }).then(this._checkResponse);\n  }\n\n  addNewCard(data) {\n    const requestUrl = this._baseUrl + '/cards';\n    return fetch(requestUrl, {\n      method: 'POST',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: data.name,\n        link: data.link\n      })\n    }).then(this._checkResponse);\n  }\n\n  removeCard(data) {\n    const requestUrl = this._baseUrl + `/cards/${data._id}`;\n    return fetch(requestUrl, {\n      method: 'DELETE',\n      headers: this._headers,\n    }).then(this._checkResponse);\n  }\n\n  addCardLike(cardId) {\n    const requestUrl = this._baseUrl + `/cards/likes/${cardId}`;\n    return fetch(requestUrl, {\n      method: 'PUT',\n      headers: this._headers,\n    }).then(this._checkResponse);\n  }\n\n  deleteCardLike(cardId) {\n    const requestUrl = this._baseUrl + `/cards/likes/${cardId}`;\n    return fetch(requestUrl, {\n      method: 'DELETE',\n      headers: this._headers,\n    }).then(this._checkResponse);\n  }\n\n  updateProfileAvatar(data) {\n    const requestUrl = this._baseUrl + `/users/me/avatar`;\n    return fetch(requestUrl, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar: data.avatar_link\n      })\n    }).then(this._checkResponse);\n  }\n}\n\nconst api = new Api({\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-29',\n  headers: {\n    authorization: '9a15705e-c3d0-477e-8f81-f6228da5acbc',\n    'Content-Type': 'application/json'\n  }\n})\n\nexport default api;","function checkResponse(res) {\r\n  if (res.ok) {\r\n    return res.json();\r\n  }\r\n  return Promise.reject(res.status);\r\n}\r\n\r\nexport const BASE_URL = \"https://auth.nomoreparties.co\";\r\n\r\nexport function registerUser(email, password) {\r\n  return fetch(`${BASE_URL}/signup`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify({ email, password }),\r\n  }).then(checkResponse);\r\n}\r\n\r\nexport function loginUser(email, password) {\r\n  return fetch(`${BASE_URL}/signin`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify({ email, password }),\r\n  }).then(checkResponse);\r\n}\r\n\r\nexport function getToken(jwt) {\r\n  return fetch(`${BASE_URL}/users/me`, {\r\n    method: \"GET\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: `Bearer ${jwt}`,\r\n    },\r\n  }).then(checkResponse);\r\n}","export default __webpack_public_path__ + \"static/media/logo.bbe2a6ea.svg\";","import { Link } from \"react-router-dom\";\r\nimport logo from \"../images/logo.svg\";\r\n\r\nfunction Header(props) {\r\n  return (\r\n    <header className=\"header\">\r\n      <img className=\"header__logo\" src={logo} alt=\"Логотип Mesto\"/>\r\n      <nav className=\"header__auth\">\r\n        <p className=\"header__text\">{props.mail}</p>\r\n        <Link to={props.route} className=\"header__link\" type=\"button\" onClick={props.onClick}>{props.title}</Link>\r\n      </nav>\r\n    </header>\r\n  )\r\n}\r\n\r\nexport default Header;","import React from \"react\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\nfunction Card(props) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const isOwn = props.card.owner._id === currentUser._id;\r\n  const isLiked = props.card.likes.some(i => i._id === currentUser._id);\r\n\r\n  const cardDeleteButtonClassName = (\r\n    `element__btn-trash ${isOwn ? 'element__btn-trash_visible' : ''}`\r\n  );\r\n\r\n  const cardLikeButtonClassName = (\r\n    `element__btn-like ${isLiked ? 'element__btn-like_active' : ''}`\r\n  );\r\n\r\n  function handleClick() {\r\n    props.onCardClick(props.card);\r\n  }\r\n\r\n  function handleLikeClick() {\r\n    props.onCardLike(props.card);\r\n  }\r\n\r\n  function handleDeleteClick() {\r\n    props.onCardDelete(props.card);\r\n  }\r\n\r\n  return(\r\n    <figure className=\"element\">\r\n      <img className=\"element__image\" src={props.link} alt={props.name} title=\"Посмотреть в полном размере\" onClick={handleClick}/>\r\n      <button className={cardDeleteButtonClassName} type=\"button\" title=\"Удалить\" onClick={handleDeleteClick}/>\r\n      <figcaption className=\"element__info\">\r\n        <h2 className=\"element__caption\">{props.name}</h2>\r\n        <div className=\"element__like-container\">\r\n          <button className={cardLikeButtonClassName} type=\"button\" title=\"Нравится\" onClick={handleLikeClick}/>\r\n          <p className=\"element__like-count\">{props.likes}</p>\r\n        </div>\r\n      </figcaption>\r\n    </figure>\r\n  )\r\n}\r\n\r\nexport default Card;","import React from \"react\";\r\nimport Card from \"./Card\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\nfunction Main(props) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  \r\n  return (\r\n    <main className=\"content\">\r\n      <section className=\"profile\">\r\n        <button className=\"profile__avatar-edit\" type=\"button\" title=\"Обновить аватар\" onClick={props.onEditAvatar}>\r\n          <img className=\"profile__avatar\" src={currentUser.avatar} alt={currentUser.name}/>\r\n        </button>\r\n        <div className=\"profile__info\">\r\n          <h1 className=\"profile__name\">{currentUser.name}</h1>\r\n          <button className=\"profile__btn-edit\" type=\"button\" title=\"Редактировать профиль\" onClick={props.onEditProfile}/>\r\n          <p className=\"profile__about\">{currentUser.about}</p>\r\n        </div>\r\n        <button className=\"profile__btn-add\" type=\"button\" title=\"Добавить новую фотографию\" onClick={props.onAddPlace}/>\r\n      </section>\r\n\r\n      <section className=\"elements\">\r\n        <ul className=\"elements__list\">\r\n          {props.cards.map((card, id) => (\r\n            <Card\r\n              key={id}\r\n              card={card}\r\n              link={card.link}\r\n              name={card.name}\r\n              likes={card.likes.length}\r\n              onCardClick={props.onCardClick}\r\n              onCardLike={props.onCardLike}\r\n              onCardDelete={props.onCardDelete}\r\n            />\r\n          ))}\r\n        </ul>\r\n      </section>\r\n    </main>\r\n  )\r\n}\r\n\r\nexport default Main;\r\n","function Footer() {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__author\">&copy; 2021. Mesto Russia</p>\r\n    </footer>\r\n  )\r\n}\r\n\r\nexport default Footer;","function PopupWithForm(props) {\r\n  return (\r\n    <div className={`popup popup_form_${props.name} ${props.isOpen ? 'popup_opened': ''}`} onMouseDown={props.onCloseClick}>\r\n      <div className=\"popup__container\">\r\n        <form className=\"popup__form\" name={props.form} onSubmit={props.onSubmit}>\r\n          <h2 className=\"popup__title\">{props.title}</h2>\r\n          {props.children}\r\n          <button className=\"popup__btn-save\" type=\"submit\" title=\"Сохранить\">{props.buttonText}</button>\r\n        </form>\r\n        <button className=\"popup__btn-close\" type=\"button\" title=\"Закрыть\" onClick={props.onClose}/>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default PopupWithForm;","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\nfunction EditProfilePopup(props) {\r\n  const [name, setName] = React.useState('');\r\n  const [description, setDescription] = React.useState('');\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  function handleNameChange(evt) {\r\n    setName(evt.target.value);\r\n  }\r\n\r\n  function handleDescriptionChange(evt) {\r\n    setDescription(evt.target.value);\r\n  }\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n\r\n    props.onSubmit({\r\n      profile_name: name,\r\n      profile_job: description\r\n    });\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    if (props.isOpen) {\r\n      setName(currentUser.name);\r\n      setDescription(currentUser.about);\r\n    }\r\n  }, [props.isOpen, currentUser]);\r\n\r\n  return(\r\n    <PopupWithForm\r\n      isOpen={props.isOpen}\r\n      onCloseClick={props.onCloseClick}\r\n      onClose={props.onClose}\r\n      name={'edit'}\r\n      form={'profileData'}\r\n      title={'Редактировать профиль'}\r\n      buttonText={'Сохранить'}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <input className=\"popup__input\" id=\"profile_name\" name=\"profile_name\" type=\"text\" placeholder=\"Имя\" minLength=\"2\" maxLength=\"40\" value={name} onChange={handleNameChange} required/>\r\n      <span className=\"popup__input-error\" id=\"profile_name-error\"/>\r\n      <input className=\"popup__input\" id=\"profile_description\" name=\"profile_description\" type=\"text\" placeholder=\"О себе\" minLength=\"2\" maxLength=\"200\" value={description} onChange={handleDescriptionChange} required/>\r\n      <span className=\"popup__input-error\" id=\"profile_description-error\"/>\r\n    </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default EditProfilePopup;","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction AddPlacePopup(props) {\r\n  const [name, setName] = React.useState('');\r\n  const [link, setLink] = React.useState('');\r\n\r\n  function handleNameChange(evt) {\r\n    setName(evt.target.value);\r\n  }\r\n\r\n  function handleLinkChange(evt) {\r\n    setLink(evt.target.value);\r\n  }\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n\r\n    props.onSubmit({\r\n      name: name,\r\n      link: link\r\n    });\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    if (props.isOpen) {\r\n      setName('');\r\n      setLink('');\r\n    }\r\n  }, [props.isOpen]);\r\n\r\n  return(\r\n    <PopupWithForm\r\n      isOpen={props.isOpen}\r\n      onCloseClick={props.onCloseClick}\r\n      onClose={props.onClose}\r\n      name={'add'}\r\n      form={'placeData'}\r\n      title={'Новое место'}\r\n      buttonText={'Создать'}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <input className=\"popup__input\" id=\"place_name\" name=\"name\" type=\"text\" placeholder=\"Название\" minLength=\"2\" maxLength=\"30\" value={name} onChange={handleNameChange} required/>\r\n      <span className=\"popup__input-error\" id=\"place_name-error\"/>\r\n      <input className=\"popup__input\" id=\"place_link\" name=\"link\" type=\"url\" placeholder=\"Ссылка на картинку\" value={link} onChange={handleLinkChange} required/>\r\n      <span className=\"popup__input-error\" id=\"place_link-error\"/>\r\n    </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default AddPlacePopup;","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction EditAvatarPopup(props) {\r\n  const ref = React.useRef();\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n\r\n    props.onSubmit({\r\n      avatar_link: ref.current.value\r\n    });\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    ref.current.value = '';\r\n  }, [props.isOpen]);\r\n\r\n  return(\r\n    <PopupWithForm \r\n      isOpen={props.isOpen}\r\n      onCloseClick={props.onCloseClick}\r\n      onClose={props.onClose}\r\n      name={'avatar'}\r\n      form={'placeData'}\r\n      title={'Обновить аватар'}\r\n      buttonText={'Сохранить'}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <input ref={ref} className=\"popup__input\" id=\"avatar_link\" name=\"avatar_link\" type=\"url\" placeholder=\"Ссылка на аватар\" required/>\r\n      <span className=\"popup__input-error\" id=\"avatar_link-error\"/>\r\n    </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default EditAvatarPopup;","function ImagePopup(props) {\r\n  return (\r\n    <div className={`popup popup_viewer ${props.isOpen ? 'popup_opened' : ''}`} onClick={props.onCloseClick}>\r\n      <div className=\"popup__content\">\r\n        <img className=\"popup__image\" src={props.card ? props.card.link : ''} alt={props.card ? props.card.name : ''}/>\r\n        <h2 className=\"popup__description\">{props.card ? props.card.name : ''}</h2>\r\n        <button className=\"popup__btn-close\" type=\"button\" title=\"Закрыть\" onClick={props.onClose}/>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ImagePopup;","import { useState } from \"react\";\r\n\r\nfunction Login(props) {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n\r\n  function handleEmailInput(evt) {\r\n    setEmail(evt.target.value);\r\n  }\r\n\r\n  function handlePasswordInput(evt) {\r\n    setPassword(evt.target.value);\r\n  }\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n    props.onLogin(email, password);\r\n  }\r\n\r\n  return (\r\n    <section className=\"login\">\r\n      <h2 className=\"login__title\">Вход</h2>\r\n      <form className=\"login__form\" onSubmit={handleSubmit}>\r\n        <input className=\"login__input\" type=\"email\" placeholder=\"Email\" value={email} onChange={handleEmailInput} required/>\r\n        <input className=\"login__input\" type=\"password\" placeholder=\"Пароль\" value={password} autoComplete=\"on\" onChange={handlePasswordInput} required/>\r\n        <button className=\"login__btn\" type=\"submit\">Войти</button>\r\n      </form>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n","import { useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nfunction Register(props) {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n\r\n  function handleEmailInput(evt) {\r\n    setEmail(evt.target.value);\r\n  }\r\n\r\n  function handlePasswordInput(evt) {\r\n    setPassword(evt.target.value);\r\n  }\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n    props.onRegister(email, password);\r\n  }\r\n\r\n  return (\r\n    <section className=\"login\">\r\n      <h2 className=\"login__title\">Регистрация</h2>\r\n      <form className=\"login__form\" onSubmit={handleSubmit}>\r\n        <input className=\"login__input\" type=\"email\" placeholder=\"Email\" value={email} onChange={handleEmailInput} required/>\r\n        <input className=\"login__input\" type=\"password\" placeholder=\"Пароль\" value={password} autoComplete=\"on\" onChange={handlePasswordInput} required/>\r\n        <button className=\"login__btn\" type=\"submit\">Зарегистрироваться</button>\r\n      </form>\r\n      <p className=\"login__text\">Уже зарегистрированы? <Link to=\"/sign-in\" className=\"login__link\">Войти</Link> </p>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default Register;\r\n","import React from \"react\";\r\nimport { Navigate } from \"react-router-dom\";\r\n\r\nfunction ProtectedRoute({ component: Component, ...props }) {\r\n  return props.isLogged ? <Component {...props} /> : <Navigate to=\"/sign-in\" />;\r\n}\r\n\r\nexport default ProtectedRoute;","function InfoTooltip(props) {\r\n  return (\r\n    <div className={`popup ${props.isOpen ? 'popup_opened' : ''}`} onClick={props.onCloseClick}>\r\n      <div className=\"popup__info\">\r\n        <img className=\"popup__status\" src={props.image} alt={props.title}/>\r\n        <h2 className=\"popup__message\">{props.title}</h2>\r\n        <button className=\"popup__btn-close\" type=\"button\" title=\"Закрыть\" onClick={props.onClose}/>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default InfoTooltip;","export default __webpack_public_path__ + \"static/media/resolve.8fdedbea.svg\";","export default __webpack_public_path__ + \"static/media/reject.df8eddf6.svg\";","import { useEffect, useState } from \"react\";\nimport { Routes, Route, Navigate, useNavigate } from \"react-router-dom\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\nimport api from \"../utils/api\";\nimport * as auth from \"../utils/auth\";\nimport Header from \"./Header\";\nimport Main from \"./Main\";\nimport Footer from \"./Footer\";\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport ImagePopup from \"./ImagePopup\";\nimport Login from \"./Login\";\nimport Register from \"./Register\";\nimport ProtectedRoute from \"./ProtectedRoute\";\nimport InfoTooltip from \"./InfoTooltip\";\nimport resolve from \"../images/resolve.svg\";\nimport reject from \"../images/reject.svg\";\n\nfunction App() {\n  const navigate = useNavigate();\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\n  const [isImagePopupOpen, setIsImagePopupOpen] = useState(false);\n  const [selectedCard, setSelectedCard] = useState(null);\n  const [currentUser, setCurrentUser] = useState({});\n  const [cards, setCards] = useState([]);\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  const [emailName, setEmailName] = useState(null);\n  const [popupImage, setPopupImage] = useState(\"\");\n  const [popupTitle, setPopupTitle] = useState(\"\");\n  const [infoTooltip, setInfoTooltip] = useState(false);\n\n  function onRegister(email, password) {\n    auth.registerUser(email, password).then(() => {\n      setPopupImage(resolve);\n      setPopupTitle(\"Вы успешно зарегистрировались!\");\n      navigate(\"/sign-in\");\n    }).catch(() => {\n      setPopupImage(reject);\n      setPopupTitle(\"Что-то пошло не так! Попробуйте ещё раз.\");\n    }).finally(handleInfoTooltip);\n  }\n\n  function onLogin(email, password) {\n    auth.loginUser(email, password).then((res) => {\n      localStorage.setItem(\"jwt\", res.token);\n      setIsLoggedIn(true);\n      setEmailName(email);\n      navigate(\"/\");\n    }).catch(() => {\n      setPopupImage(reject);\n      setPopupTitle(\"Что-то пошло не так! Попробуйте ещё раз.\");\n      handleInfoTooltip();\n    });\n  }\n\n  useEffect(() => {\n    const jwt = localStorage.getItem(\"jwt\");\n    if (jwt) {\n      auth.getToken(jwt).then((res) => {\n        if (res) {\n          setIsLoggedIn(true);\n          setEmailName(res.data.email);\n        }\n      }).catch((err) => {\n        console.error(err);\n      });\n    }\n  }, []);\n\n  useEffect(() => {\n    if (isLoggedIn === true) {\n      navigate(\"/\");\n    }\n  }, [isLoggedIn, navigate]);\n\n  useEffect(() => {\n    Promise.all([api.getUserInfo(), api.getInitialCards()]).then(([user, cards]) => {\n      setCurrentUser(user);\n      setCards(cards);\n    }).catch((err) => {\n      console.error(err);\n    });\n  }, []);\n\n  function handleUpdateUser(data) {\n    api.updateUserInfo(data).then((newUser) => {\n      setCurrentUser(newUser);\n      closeAllPopups();\n    }).catch((err) => {\n      console.error(err);\n    });\n  }\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\n  \n    if (!isLiked) {\n      api.addCardLike(card._id).then((newCard) => {\n        setCards((state) => state.map((c) => (c._id === card._id ? newCard : c)));\n      }).catch((err) => {\n        console.error(err);\n      });\n    } else {\n      api.deleteCardLike(card._id).then((newCard) => {\n        setCards((state) => state.map((c) => (c._id === card._id ? newCard : c)));\n      }).catch((err) => {\n        console.error(err);\n      });\n    }\n  }\n  \n  function handleAddPlaceSubmit(data) {\n    api.addNewCard(data).then((newCard) => {\n      setCards([newCard, ...cards]);\n      closeAllPopups();\n    }).catch((err) => {\n      console.error(err);\n    });\n  }\n\n  function handleCardDelete(card) {\n    api.removeCard(card).then(() => {\n      setCards((items) => items.filter((c) => c._id !== card._id && c));\n    }).catch((err) => {\n      console.error(err);\n    });\n  }\n  \n  function handleAvatarUpdate(data) {\n    api.updateProfileAvatar(data).then((newAvatar) => {\n      setCurrentUser(newAvatar);\n      closeAllPopups();\n    }).catch((err) => {\n      console.error(err);\n    });\n  }\n  \n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  }\n\n  function handleCardClick(card) {\n    setSelectedCard(card);\n    setIsImagePopupOpen(true);\n  }\n\n  function handleInfoTooltip() {\n    setInfoTooltip(true);\n  }\n\n  function handlePopupCloseClick(evt) {\n    if (evt.target.classList.contains('popup_opened')) {\n      closeAllPopups();\n    }\n  }\n\n  function closeAllPopups() {\n    setIsEditAvatarPopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsImagePopupOpen(false);\n    setInfoTooltip(false);\n  }\n\n  useEffect(() => {\n    if (isEditAvatarPopupOpen || isEditProfilePopupOpen || isAddPlacePopupOpen || selectedCard || infoTooltip) {\n      function handleEsc(evt) {\n        if (evt.key === 'Escape') {\n          closeAllPopups();\n        }\n      }\n\n      document.addEventListener('keydown', handleEsc);\n\n      return () => {\n        document.removeEventListener('keydown', handleEsc);\n      }\n    }\n  }, [isEditAvatarPopupOpen, isEditProfilePopupOpen, isAddPlacePopupOpen, selectedCard, infoTooltip]);\n  \n  function onSignOut() {\n    setIsLoggedIn(false);\n    setEmailName(null);\n    navigate(\"/sign-in\");\n    localStorage.removeItem(\"jwt\");\n  }\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"page\">\n        <div className=\"page__content\">\n          <Routes>\n            <Route path=\"/sign-in\" element={\n              <>\n                <Header title=\"Регистрация\" route=\"/sign-up\"/>\n                <Login onLogin={onLogin} />\n              </>\n            }/>\n\n            <Route path=\"/sign-up\" element={\n              <>\n                <Header title=\"Войти\" route=\"/sign-in\"/>\n                <Register onRegister={onRegister} />\n              </>\n            }/>\n\n            <Route exact path=\"/\" element={\n              <>\n                <Header title=\"Выйти\" mail={emailName} onClick={onSignOut} route=\"\" />\n                <ProtectedRoute\n                  component={Main}\n                  isLogged={isLoggedIn}\n                  onEditAvatar={handleEditAvatarClick}\n                  onEditProfile={handleEditProfileClick}\n                  onAddPlace={handleAddPlaceClick}\n                  onCardClick={handleCardClick}\n                  cards={cards}\n                  onCardLike={handleCardLike}\n                  onCardDelete={handleCardDelete}\n                />\n                <Footer />\n              </>\n            }/>\n\n            <Route path=\"*\" element={<Navigate to={isLoggedIn ? \"/\" : \"/sign-in\"}/>} />\n          </Routes>\n\n          <EditProfilePopup \n            isOpen={isEditProfilePopupOpen} \n            onCloseClick={handlePopupCloseClick} \n            onClose={closeAllPopups} \n            onSubmit={handleUpdateUser}\n          />\n          \n          <AddPlacePopup \n            isOpen={isAddPlacePopupOpen} \n            onCloseClick={handlePopupCloseClick} \n            onClose={closeAllPopups} \n            onSubmit={handleAddPlaceSubmit}\n          />\n          \n          <EditAvatarPopup \n            isOpen={isEditAvatarPopupOpen} \n            onCloseClick={handlePopupCloseClick} \n            onClose={closeAllPopups} \n            onSubmit={handleAvatarUpdate}\n          />\n\n          <ImagePopup\n            card={selectedCard}\n            isOpen={isImagePopupOpen} \n            onCloseClick={handlePopupCloseClick}\n            onClose={closeAllPopups}\n          />\n\n          <InfoTooltip \n            image={popupImage} \n            title={popupTitle} \n            isOpen={infoTooltip} \n            onCloseClick={handlePopupCloseClick}\n            onClose={closeAllPopups} \n          />\n        </div>\n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\nimport { BrowserRouter } from \"react-router-dom\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter basename='/react-mesto-auth'>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}